# Базовые параметры запроса

**Внимание!** Для корректного подсчета статистики в Топ-100 необходимо делать запрос с выставленной cookie `ruid`, в которой передавать уникальный идентификатор для пользователя.

Для каждого запроса необходимо передавать следующие базовые параметры:

| **Параметр** | **Обязательность** | **Формат**           | **Описание**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ------------ | ------------------ | -------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| pid          | Обязательный       | Number               | Идентификатор счетчика, сгенерированный в Топ-100 при регистрации счетчика. Пример: 29811                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| rid          | Обязательный       | Number.Number-Number | Идентификатор для группировки событий, произошедших в рамках одного показа страницы. Позволяет корректно учитывать в статистике аудиторные показатели. События с одинаковым rid считаются случившимися в рамках одного и того же показа страницы. Идентификатор следует сгенерировать один раз при загрузке страницы. Можно это сделать следующим образом: (+new Date / 1000).toString() + '-' + Math.round(2147483647\*Math.random()).toString(). Или генерировать его по собственному алгоритму, но так, чтобы сгенерированное значение соответствовало шаблону (\<float>-\<int>): \<timestamp_with_msecs> + '-' + \<some_random_value>, где \<timestamp_with_msecs> - с миллисекундами. Пример: 1461774198.139-396177806 |
| uid          | Необязательный     | String               | Идентификатор пользователя user_id. Передается в запросе, если известен. Подробнее про передачу параметра – см. «[Передача идентификатора пользователя](broken-reference)».                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| rn           | Обязательный       | Number <= 2^31 -1    | Случайное значение, чтобы браузер не кэшировал запросы. При каждом запросе необходимо передавать новое значение. Пример: WjdqidasdWJAI                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| v            | Необязательный     | N.N.N                | Версия счётчика. Если параметр не передан, то по умолчанию используется последняя версия счетчика.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ct           | Обязательный       | mp                   | Технический параметр. Всегда следует передавать mp.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| et           | Обязательный       | String               | Тип события, по факту которого осуществляется отправка запроса в Топ-100. Указывается одно из возможных событий: pv – показ страницы, act – активность пользователя, cv – передача параметров визита, extln – переход по внешней ссылке, bv – показ блоков, cl – клик по блокам, uid – передача идентификатора пользователя.                                                                                                                                                                                                                                                                                                                                                                                                |
| url          | Необязательный \*  | URL                  | URL адрес страницы, на которой произошло событие. (\*) - В общем случае параметр запроса url необязателен. Но если он не передается, то адрес страницы должен обязательно передаваться в запросе в заголовке HTTP referer.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |

**Пример:**

`https://[kraken.rambler.ru/cnt/](http://kraken.rambler.ru/cnt/)?pid=157726&amp;rid=1461774198.139-396177806&amp;...`

**Внимание!** Для корректного подсчета статистики в Топ-100 надо обязательно передавать адрес страницы. Это нужно делать либо передавая соответствующее значение через параметр запроса `url`, либо передавая его в запросе в заголовке `HTTP referer`.

# Базовые параметры запроса

Для каждого запроса необходимо передавать следующие базовые параметры:\
\* - обязательный к передаче\


| **Параметр**              | **Формат**           | **Описание**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ------------------------- | -------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| event\_type \*            | String               | <p>Тип события, по факту которого осуществляется отправка запроса в Топ-100. Указывается одно из <a href="../bazovye-sobytiya.md">возможных значений</a><br><strong>Пример: base</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| event\_name \*            | String               | <p>Название события, по факту которого осуществляется отправка запроса в Топ-100. <br><strong>Пример: page_view</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| project\_id \*            | Number               | <p>Идентификатор счетчика, сгенерированный в Топ-100 при регистрации счетчика. <br><strong>Пример: 29811</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| request\_id \*            | Number.Number-Number | <p>Идентификатор для группировки событий, произошедших в рамках одного показа страницы. Позволяет корректно учитывать в статистике аудиторные показатели. События с одинаковым rid считаются случившимися в рамках одного и того же показа страницы. Идентификатор следует сгенерировать один раз при загрузке страницы. Можно это сделать следующим образом: (+new Date / 1000).toString() + '-' + Math.round(2147483647*Math.random()).toString(). Или генерировать его по собственному алгоритму, но так, чтобы сгенерированное значение соответствовало шаблону (&#x3C;float>-&#x3C;int>): &#x3C;timestamp_with_msecs> + '-' + &#x3C;some_random_value>, где &#x3C;timestamp_with_msecs> - с миллисекундами. <br><strong>Пример: 1461774198.139-396177806</strong></p> |
| event\_id \*              | String               | <p>Параметр уникальности каждого события</p><p>Лимит на размер строки: 36 символов<br><strong>Пример: 6210531992879190</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| split                     | Array\<String>       | <p>Набор пользовательских <a href="../../razmetka-celevykh-deistvii/splity.md">сплитов</a><br><strong>Пример: ["split_1","split_2","split_3"]</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| top100\_id \*             | String               | <p>First-party идентификатор пользователя. Допустимо передавать любое строковое значение которое будет одинаковым для одной установки приложения на устройство пользователя и разным для разных установок приложения. Лимит на размер строки: 36 символов<br><strong>Пример: f8eb35f2-94b0-4f19-affa-9d8b9c878270</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| adtech\_uid               | String               | <p>First-party идентификатор пользователя. Лимит на размер строки: 36 символов<br><strong>Пример: f8eb35f2-94b0-4f19-affa-9d8b9c878270</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| adtech\_uid\_scope        | String               | <p>Domain / bundle_id, граница применимости идентификатора<br><strong>Пример: app_lenta</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| auth\_uid                 | String               | <p>Идентификатор авторизованного пользователя. Передается в запросе, если известен. Лимит на размер строки: 36 символов<br><strong>Пример: f67c2bcbfcfa30f</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| publisher\_uid            | String               | <p>First-party идентификатор пользователя приложением. Допустимо передавать любое строковое значение которое будет одинаковым для одной установки приложения на устройство пользователя и разным для разных установок приложения. Лимит на размер строки: 36 символов<br><strong>Пример: f8eb35f2-94b0-4f19-affa-9d8b9c878270</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| publisher\_uid\_scope     | String               | <p>Domain / bundle_id, граница применимости идентификатора<br><strong>Пример: app_rambler</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| sber\_id                  | String               | Сквозной идентификатор Сбера, верный для всех партнеров                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| sber\_id\_sub             | String               | Идентификатор Сбера, верный для одного партнера                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| email\_hash               | String               | <p>Хэш sha256 от email пользователя<br><strong>Пример: 7af224cee0ac7ddb0da574fbb3dc2890e33b4d1e99a335394858f3221b548a7a</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| phone\_hash               | String               | <p>Хэш sha256 от телефона пользователя<br><strong>Пример: 76ab9e619bb699897571f6860f44144b07d6560a1fbab09dc88e5f14e1098f48</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| gaid                      | String               | Рекламный идентификатор в android                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| idfa                      | String               | Рекламный идентификатор в ios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| oaid                      | String               | Рекламный идентификатор huawei                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| sberdevice\_id            | String               | Идентификатор устройства от sberdevice                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| profile                   | Json                 | Любые данные о пользователи, которые может передать площадка                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| fingerprint               | String               | <p>Фингерпринт</p><p><strong>Пример: pA8AAENKs1d4BLyuAdJxQQA=,</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| fingerprint\_ip           | String               | <p>Фингерпринт с ip<br><strong>Пример:  pA8AAENKs1fQGAqLAfg3qQA</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| rambler\_id               | String               | <p>Идентификатор пользователя в Рамблере<br></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| model                     | String               | <p>Модель устройства <br><strong>Пример: iPhone 5s</strong> или <strong>SM-J500M</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| location                  | String               | Координаты, точность в метрах, скорость в м/с, время получения                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| device                    | String               | Название устройства по классификации производителя (hwm)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| os                        | String               | Операционная система устройства                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| os\_version               | String               | Версия OS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| idfv                      | String               | Идентификатор пользователя в ios, верный в рамках скоупа приложений одного издателя                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| android\_id               | String               | Аналог idfv в android                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ruid \*                   | String               | Third-party идентификатор пользователя предоставляемый платформой                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| session\_id \*            | String               | <p>Идентификатор сессии<br><strong>Пример: 1703949555_1650546049152</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| session\_number \*        | Number               | <p>Порядковый номер сессии<br><strong>Пример: 1</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| session\_event\_number \* | Number               | <p>Порядковый номер события в сессии<br><strong>Пример: 1</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| url \*                    | URL                  | <p>URL адрес страницы, на которой произошло событие. В общем случае параметр запроса url необязателен. Но если он не передается, то адрес страницы должен обязательно передаваться в запросе в заголовке HTTP referer.<br>Для мобильных устройств требуется описание действия пользователя в формате: app://{app_name}/{screen}/{action}<br><strong>Пример: app://rambler_mail/main_page/load</strong></p>                                                                                                                                                                                                                                                                                                                                                                 |
| screen\_name              | String               | <p>Название экрана, класса приложения<br><strong>Пример: mainActivity</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| counter\_type \*          | String               | <p>Технический параметр. Передаем тип потока данных.<br><strong>Пример: app</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| version                   | N.N.N                | <p>Версия счётчика. Если параметр не передан, то по умолчанию используется последняя версия счетчика.<br><strong>Пример: 0.0.1</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| user\_agent               | String               | <p>User-agent или любые другие данные, которые можно использовать в этом плане<br><strong>Пример: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| timestamp                 | Number               | <p>Время события в секундах<br><strong>Пример: 1650462052</strong></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

**Пример:**

`https://kraken.rambler.ru/cnt/v2/?project_id=157726&amp;request_id=1461774198.139-396177806&amp;...`

****

# Методы по работе со счетчиком

Поддерживаются следующие методы по работе со счетчиком:

| **Метод** | **Описание** |
| :--- | :--- |
| sendCustomVars | Метод используется для передачи пользовательских переменных: принимает на вход объект {param1:value1, …, paramN:valueN} и отправляет эти данные в счетчик. Подробнее про вызов метода – см. «[Передача параметров визита](../razmetka-celevykh-deistvii/peredacha-parametrov-vizita.md)». |
| trackPageview | Метод используется для single-page application для реализации корректного подсчёта статистики. В код страницы необходимо добавить вызов метода trackPageview для созданного экземпляра счетчика в те моменты, когда необходимо отправлять события показа страницы. |
| drawLogoTo | Метод следует вызывать на страницах сайта с указанием места, где нужно разместить виджет. На вход необходимо передавать идентификатор элемента на странице, в который будет отрисован виджет \(значение идентификатора element может быть также указано [в атрибутах cчетчика](atributy-schetchika.md) при инициализации\). Вызов метода необходимо добавить в код каждой из страниц, где требуется разместить виджет. |
| syncUserId | Метод используется для передачи идентификатора пользователя: принимает на вход идентификатор и отправляет его в счетчик. Таким образом можно переопределить значение [user\_id](atributy-schetchika.md), указанное в настройках счётчика при инициализации. Подробнее про передачу идентификатора пользователя – см. «[Передача идентификатора пользователя](../razmetka-celevykh-deistvii/peredacha-identifikatora-polzovatelya.md)». |
| getPublisherId | Метод для получения идентификатора пользователя. Подробнее про передачу идентификатора пользователя – см. «[Передача идентификатора пользователя](../razmetka-celevykh-deistvii/peredacha-identifikatora-polzovatelya.md)». |
| sendBlocks | Метод для дополнительного поиска элементов, указанных в «[Аналитике блоков](../razmetka-celevykh-deistvii/razmetka-stranic-saita-dlya-analitiki-blokov.md)» и последующей отправке по ним данных. |

**ВНИМАНИЕ!** Перед вызовом методов следует убедиться, что экземпляр счетчика создан и доступен. Данные не будут собираться, если счётчик ещё не создан, т.к. их не с чем связать.

**Пример вызова в коде страницы метода sendCustomVars:**

```text
<script>
    // …
    Var customVars = {
        param1: value1,
        param2: value2
    };
    top100Counter.sendCustomVars(customVars);
    // …
</script>
```

**Пример вызова в коде страницы метода sendCustomVars с проверкой существования счетчика:**

`top100Counter && top100Counter.sendCustomVars(customVars);`

**Пример вызова в коде страницы метода trackPageview:**

`window.top100Counter.trackPageview();`

**Пример вызова в коде страницы метода drawLogoTo:**

`window.top100Counter.drawLogoTo(element_id);`

**Пример вызова в коде страницы метода syncUserId:**

`window.top100Counter.syncUserId(user_id);`

